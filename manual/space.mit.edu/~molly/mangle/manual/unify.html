<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"
 "http://www.w3.org/TR/REC-html40/loose.dtd">

<html>
<head>
  <title>mangle : manual : commands</title>
  <meta http-equiv="Content-Type" content="text/html">
  <meta http-equiv="Content-Style-Type" content="text/css">
  <meta name="description"
  content="mangle: a code to compute the spherical harmonics of an arbitrary angular mask.">
  <meta name="keywords"
  content="mangle, spherical harmonics, Large Scale Structure, Cosmic Microwave Background">
  <link href="../style/mangle_template.css" rel="stylesheet" type="text/css">
  
</head>
<body>

<div class="main">

<div class="title">
</div>

<div class="nav clear">

<ul class="menu centered">
    <li><a href="../">Overview</a></li>
    <li><a href="../download/">Download</a></li>
    <li><a href="../quickstart/">QuickStart</a></li>
    <li><a href="./">Manual</a></li>
    <li><a href="../references/">References</a></li>
</ul>

</div>

<br>

<div class="pagetitlebox">
<div class="pagetitle">
<img src="./manual.png" alt="manual">
</div>
<div class="pagesubtitle">
<h5>Commands</h5><!--img src="./commands.png" alt="commands" style="margin-left: 182.5px;"-->
</div>
</div>

<div class="contentbox">
<div class="submenu" style="width: 153px;">
<ul>
    <li><a href="./">Terms</a></li>
    <li><a href="./commands.html">Commands</a></li>
    <li><a href="./polyformat.html">Polygon Formats</a></li>
    <li class="last"><a href="./troubleshooting.html">Troubleshooting</a></li>
</ul>
</div>
<div class="content">
<p style="margin-left: 193px;"><br></p>
<h2>unify</h2>
<p style="margin-left: 193px;">

<tt>unify</tt>
unifies polygons where possible.
<br><br>
<tt>
unify [-d] [-q] [-m&lt;a&gt;[u]] [-s&lt;n&gt;] [-e&lt;n&gt;] [-vo|-vn|-vp] [-p[+|-]&lt;n&gt;] [-U] [-i&lt;f&gt;[&lt;n&gt;][u]]
[-o&lt;f&gt;[u]] polygon_infile1 [polygon_infile2 ...] polygon_outfile
</tt>
<br><br>
The <tt>unify</tt> command
eliminates polygons with zero weight,
and does its best to merge polygons with the same weight,
so as to yield a minimal file of non-overlapping polygons.
The command is not strictly necessary,
but it tidies things up,
and it can save <tt>harmonize</tt> and other programs a lot of computer time.
<br><br>
If the old-id <tt>-vo</tt> switch is used,
then <tt>unify</tt> will unify only polygons sharing the same id in the input polygon file(s).
That is, if the <tt>-vo</tt> switch is used,
then to be considered as candidates for merging, a pair of polygons
must have not only the same weight, but also the same id number.
The default (<tt>-vn</tt>) is that <tt>unify</tt>
attempts to merge polygons of the same weight regardless of their id numbers,
and assigns new polygon ids to polygons in the output polygon file.
<br><br>
Note that <tt>unify</tt>
does not necessarily accomplish the most efficient unification,
nor, as illustrated below, is the unification necessarily exhaustive.
What
<tt>unify</tt>
does is pass repeatedly through the polygon file,
merging a pair of polygons wherever the pair can be merged into a single polygon
by eliminating a single abutting boundary.

<table border=0 style="margin-left: 10px;">
<tr><td align=center valign=bottom>
<img src="nounify.gif" width=73 height=62 hspace=4 vspace=4
alt="System of 4 polygons that unify fails to merge into a single polygon">
</td></tr>
<tr><td valign=top>
A system of 4 polygons that <tt>unify</tt> fails to merge into
a single polygon, because no pair of polygons can be merged.
</td></tr>
</table>
</p>
<p style="margin-left: 193px;">
If you are using a pixelized mask and want to unpixelize it, you can run 
<tt>unify</tt> 
with the <tt>-U</tt> switch.  This tells 
<tt>unify</tt> 

to attempt to merge each polyon with all the other polygons in the mask, 
not just with other polygons in the same pixel.  
Note that this will cause <tt>unify</tt> to run slower.
<br><br>
Back to <a href="./commands.html">list of commands</a>.
</p>

</div>
</div>

<div class="footer">
<a href="http://www.colorado.edu"><div class="footerleft">
<img src="../CU.jpg" alt="CU">
</div>
</a>
<a href="http://space.mit.edu"><div class="footerright2">
<img src="../mki.jpg" alt="MKI">
</div>
</a>
<a href="http://web.mit.edu"><div class="footerright1">
<img src="../mit.gif" alt="MIT">
</div>
</a>
</div>

</div>
</body>
</html>
